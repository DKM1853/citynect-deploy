{"version":3,"sources":["views/ui/Login.js"],"names":["Login","Navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","number","setnumber","_useState3","_useState4","password","setPassword","useEffect","Cookies","get","_jsx","className","children","_jsxs","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","status","json","alert","data","expirationDate","Date","setHours","getHours","set","id","expires","name","catch","err","htmlFor","type","required","value","onChange","target","placeholder","style","paddingLeft","paddingRight","width"],"mappings":"2KA0GeA,UAvGD,WACZ,IAAMC,EAAWC,cACjBC,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,EAAgCL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,qBAAU,WACJC,IAAQC,IAAI,WACdd,EAAS,IAGb,GAAG,IAuCH,OACEe,cAAA,OAAKC,UAAU,WAAUC,SACvBF,cAAA,WAASC,UAAU,0DAAyDC,SAC1EF,cAAA,OAAKC,UAAU,4BAA2BC,SACxCF,cAAA,OAAKC,UAAU,6DAA4DC,SACzEF,cAAA,OAAKC,UAAU,yCAAwCC,SACrDC,eAAA,QAAMF,UAAU,aAAaG,SA5CpB,SAACC,GACpBA,EAAEC,iBACFC,MAAM,wCAAyC,CAC7CC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAErB,OAAQA,EAAQI,SAAUA,MAEhDkB,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIC,OACN,OAAOD,EAAIE,OAEXC,MAAM,sCAEV,IACCJ,MAAK,SAACK,GAEL,IAAMC,EAAiB,IAAIC,KAC3BD,EAAeE,SAASF,EAAeG,WAAa,IACpDxB,IAAQyB,IAAI,KAAML,EAAKM,GAAI,CACzBC,QAASN,IAEXrB,IAAQyB,IAAI,OAAQL,EAAKQ,KAAM,CAC7BD,QAASN,IAEXrB,IAAQyB,IAAI,SAAUhC,EAAQ,CAC5BkC,QAASN,IAIXlC,EAAS,IACX,IACC0C,OAAM,SAACC,GACNX,MAAMW,EACR,GACJ,EAQgE1B,SAAA,CAClDC,eAAA,OAAKF,UAAU,oBAAmBC,SAAA,CAChCF,cAAA,SAAOC,UAAU,aAAa4B,QAAQ,SAAQ3B,SAAC,WAG/CF,cAAA,SACE8B,KAAK,OACLN,GAAG,SACHvB,UAAU,+BACV8B,UAAQ,EACRC,MAAOzC,EACP0C,SAAU,SAAC5B,GAAC,OAAKb,EAAUa,EAAE6B,OAAOF,MAAM,EAC1CG,YAAY,4BAGhBhC,eAAA,OAAKF,UAAU,oBAAmBC,SAAA,CAChCF,cAAA,SAAOC,UAAU,aAAa4B,QAAQ,gBAAe3B,SAAC,aAGtDF,cAAA,SACE8B,KAAK,WACLN,GAAG,gBACHvB,UAAU,+BACV8B,UAAQ,EACRC,MAAOrC,EACPsC,SAAU,SAAC5B,GAAC,OAAKT,EAAYS,EAAE6B,OAAOF,MAAM,EAC5CG,YAAY,sBAGhBnC,cAAA,UACE8B,KAAK,SACL7B,UAAU,yBACVmC,MAAO,CACLC,YAAa,SACbC,aAAc,SACdC,MAAO,QACPrC,SACH,sBAUjB,C","file":"static/js/6.d6b12031.chunk.js","sourcesContent":["import Cookies from \"js-cookie\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nconst Login = () => {\n  const Navigate = useNavigate();\n  const [number, setnumber] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  useEffect(() => {\n    if (Cookies.get(\"number\")) {\n      Navigate(\"/\");\n    }\n    // eslint-disable-next-line\n  }, []);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(\"http://15.206.66.176:8080/admin/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ number: number, password: password }),\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          return res.json(); // Parse the response JSON\n        } else {\n          alert(\"Check Credentials Or Internal Error\");\n        }\n      })\n      .then((data) => {\n        // Save the 'id', 'name', and 'number' in cookies\n        const expirationDate = new Date();\n        expirationDate.setHours(expirationDate.getHours() + 24);\n        Cookies.set(\"id\", data.id, {\n          expires: expirationDate,\n        });\n        Cookies.set(\"name\", data.name, {\n          expires: expirationDate,\n        });\n        Cookies.set(\"number\", number, {\n          expires: expirationDate,\n        });\n  \n        // Redirect to the desired route\n        Navigate(\"/\");\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  };\n  \n  return (\n    <div className=\"bg-white\">\n      <section className=\"vh-100 d-flex justify-content-center align-items-center\">\n        <div className=\"container-fluid h-custom \">\n          <div className=\"row d-flex justify-content-center align-items-center h-100\">\n            <div className=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1\">\n              <form className=\"border p-5\" onSubmit={handleSubmit}>\n                <div className=\"form-outline mb-4\">\n                  <label className=\"form-label\" htmlFor=\"number\">\n                    Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    id=\"number\"\n                    className=\"form-control form-control-lg\"\n                    required\n                    value={number}\n                    onChange={(e) => setnumber(e.target.value)}\n                    placeholder=\"Enter a valid Number\"\n                  />\n                </div>\n                <div className=\"form-outline mb-3\">\n                  <label className=\"form-label\" htmlFor=\"form3Example4\">\n                    Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    id=\"form3Example4\"\n                    className=\"form-control form-control-lg\"\n                    required\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Enter password\"\n                  />\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary btn-lg\"\n                  style={{\n                    paddingLeft: \"2.5rem\",\n                    paddingRight: \"2.5rem\",\n                    width: \"100%\",\n                  }}\n                >\n                  Login\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}