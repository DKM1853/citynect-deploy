{"version":3,"sources":["views/ui/MyAccount.js"],"names":["MyAccount","_useState","useState","_useState2","_slicedToArray","username","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirmpassword","setConfirmpassword","_useState7","_useState8","admins","setAdmins","useEffect","fetch","then","res","json","data","forEach","element","console","log","localStorage","getItem","catch","err","_jsxs","className","children","_jsx","name","contact","Form","onSubmit","e","preventDefault","method","headers","body","JSON","stringify","status","alert","FormGroup","Label","for","Input","type","id","required","value","onChange","target","placeholder","Button"],"mappings":"yJA0FeA,UAlFG,WAEhB,IAAAC,EAAgCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAArCI,EAAQF,EAAA,GACfG,GAD4BH,EAAA,GACID,mBAAS,KAAGK,EAAAH,YAAAE,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,EAA8CR,mBAAS,IAAGS,EAAAP,YAAAM,EAAA,GAAnDE,EAAeD,EAAA,GAAEE,EAAkBF,EAAA,GAC1CG,EAA4BZ,mBAAS,IAAGa,EAAAX,YAAAU,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,qBAAU,WAERC,MAAM,8DACHC,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GACLA,EAAKC,SAAQ,SAAAC,GACXC,QAAQC,IAAIF,GACRA,EAAQpB,WAAWuB,aAAaC,QAAQ,SAC1CZ,EAAUQ,EAEd,GACF,IACCK,OAAM,SAACC,GAAG,OAAKL,QAAQC,IAAII,EAAI,GAEpC,GAAG,IA8BH,OACEC,eAAA,OAAKC,UAAU,aAAYC,SAAA,CACzBF,eAAA,MAAIC,UAAU,cAAaC,SAAA,CAACC,cAAA,KAAGF,UAAU,gCAAkC,mBAC3EE,cAAA,OAAKF,UAAU,YAAWC,SACxBF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBF,eAAA,MAAIC,UAAU,aAAYC,SAAA,CAAC,SAAOlB,EAAOoB,QACzCJ,eAAA,MAAIC,UAAU,YAAWC,SAAA,CAAC,aAAWlB,EAAOX,YAC5C2B,eAAA,MAAIC,UAAU,YAAWC,SAAA,CAAC,YAAUlB,EAAOqB,gBAG/CF,cAAA,OAAKF,UAAU,OAAMC,SACnBF,eAAA,OAAKC,UAAU,YAAWC,SAAA,CACxBC,cAAA,MAAIF,UAAU,aAAYC,SAAC,oBAC3BF,eAACM,IAAI,CAACC,SA1Ce,SAACC,GAC5BA,EAAEC,iBACEjC,IAAWI,GAEbO,MAAM,+DAAgE,CACtEuB,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAACzC,SAASA,EAASG,SAASA,MAEhDY,MAAK,SAACC,GACY,MAAdA,EAAI0B,OACLC,MAAM,kCAEa,MAAb3B,EAAI0B,OACVC,MAAM,iBAGNA,MAAM,0BAEV,IACAvC,EAAY,IACZI,EAAmB,KAEnBmC,MAAM,0BAEV,EAe6Cd,SAAA,CACjCF,eAACiB,IAAS,CAAAf,SAAA,CACRC,cAACe,IAAK,CAACC,IAAI,WAAUjB,SAAC,aACtBC,cAACiB,IAAK,CAACC,KAAK,WAAWC,GAAG,WAAWrB,UAAU,+BAA+BsB,UAAQ,EAACC,MAAOhD,EAAUiD,SAAU,SAACjB,GAAC,OAAK/B,EAAY+B,EAAEkB,OAAOF,MAAM,EAClJG,YAAY,sBAEhB3B,eAACiB,IAAS,CAAAf,SAAA,CACRC,cAACe,IAAK,CAACC,IAAI,YAAWjB,SAAC,qBACvBC,cAACiB,IAAK,CAACC,KAAK,WAAWC,GAAG,YAAYrB,UAAU,+BAA+BsB,UAAQ,EAACC,MAAO5C,EAAiB6C,SAAU,SAACjB,GAAC,OAAK3B,EAAmB2B,EAAEkB,OAAOF,MAAM,EACjKG,YAAY,wBAElBxB,cAACyB,IAAM,CAACP,KAAK,SAASpB,UAAU,kBAAiBC,SAAC,8BAM9D,C","file":"static/js/7.9a1c3aff.chunk.js","sourcesContent":["import React,{useState ,useEffect} from 'react'\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\nconst MyAccount = () => {\n  // eslint-disable-next-line\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmpassword, setConfirmpassword] = useState('');\n  const [admins, setAdmins] = useState([]);    \n  useEffect(() => {\n    // Fetch all internships from the API\n    fetch(\"https://api-cnn5jio2q-chiragbhanderi1.vercel.app/getadmins\")\n      .then((res) => res.json())\n      .then((data) =>{\n        data.forEach(element => {\n          console.log(element)\n          if (element.username===localStorage.getItem('name')) {\n            setAdmins(element);\n          }\n        });\n      })\n      .catch((err) => console.log(err));\n      // eslint-disable-next-line\n  }, []);\n  const handleChangePassword = (e) => {\n    e.preventDefault();\n    if (password===confirmpassword) {\n\n      fetch(`https://api-cnn5jio2q-chiragbhanderi1.vercel.app/adminforget`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({username:username,password:password}),\n    })\n      .then((res) =>{ \n        if(res.status ===200){\n          alert('Password changed successfully!');\n        }\n        else if(res.status===404){\n          alert('No user found')\n        }\n        else{\n          alert('Internal server occured')\n        }\n      })\n      setPassword('');\n      setConfirmpassword('');\n    } else {\n      alert('Passwords do not match.');\n    }\n  };\n\n  return (\n    <div className=\"container \">      \n      <h3 className='text-center'><i className=\"bi bi-person-fill-lock me-2\"></i>Admin Details</h3>\n      <div className=\"card mb-4\">\n        <div className=\"card-body\">\n          <h4 className=\"card-title\">Name: {admins.name}</h4>\n          <h4 className=\"card-text\">Username: {admins.username}</h4>\n          <h4 className=\"card-text\">Contact: {admins.contact}</h4>\n        </div>\n      </div>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h3 className=\"card-title\">Change Password</h3>\n          <Form onSubmit={handleChangePassword}>\n              <FormGroup>\n                <Label for=\"password\">Password</Label>\n                <Input type=\"password\" id=\"password\" className=\"form-control form-control-lg\" required value={password} onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Enter password\" />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"cpassword\">Confirm Password</Label>\n                <Input type=\"password\" id=\"cpassword\" className=\"form-control form-control-lg\" required value={confirmpassword} onChange={(e) => setConfirmpassword(e.target.value)}\n                  placeholder=\"Confirm password\" />\n              </FormGroup>\n            <Button type=\"submit\" className=\"btn btn-primary\">Change Password</Button>\n          </Form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MyAccount\n"],"sourceRoot":""}